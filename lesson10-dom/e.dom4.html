<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM with Event Listener</title>
    <!-- Internal styles  -->
    <style>
        .blue-theme {
            background-color: #e6f2ff;
            border: 2px solid #00264d;
            color: #00008b;
        }

        .red-theme {
            background-color: #ffebe6;
            border: 2px solid #661400;
            color: #830202;
        }

        .green-theme {
            background-color: #d8f6d0;
            border: 2px solid #015239;
            color: #08744a;
        }

        .bw-theme {
            background-color: #fff;
            border: 2px solid #000;
            color: 000;
        }

        .blue-theme,
        .red-theme,
        .green-theme,
        .bw-theme {
            font-style: italic;
            font-weight: 500;
        }

        /* These classes for the buttons: */
        .blue {
            background-color: rgb(3, 40, 95);
            color: rgb(205, 218, 247);
            cursor: pointer;
        }

        .red {
            background-color: rgb(80, 2, 2);
            color: rgb(247, 160, 160);
            cursor: pointer;
        }

        .green {
            background-color: rgb(4, 119, 56);
            color: rgb(226, 246, 207);
            cursor: pointer;
        }

        .bw {
            background-color: rgb(250, 250, 250);
            color: rgb(0, 0, 0);
            cursor: pointer;
        }

        #do-not {
            background-color: yellow;
            color: red;
            text-align: center;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <!--
        - div a block level element
        - span an inline element

        here we are applying the blue-theme class (By Default) => class="blue-theme"
        to be the default theme to be presented before clicking any buttons
     -->
    <div id="wrapper" class="blue-theme">
        <header class="main">
            <h1 id="head1">Add Event Listener</h1>
            <nav>
                <ul>
                    <li>Item1</li>
                    <li>Item2</li>
                    <li>Item3</li>
                </ul>
            </nav>
        </header>

        <section id="content">
            <p id="first">
                We are going to use the modern JavaScript programming by using "Event Listener".
                We used "Event Handler" in the previous lessons by adding the HTML event attribute,
                so we had to write our JavaScript inside the HTML element.
                If you want to completely split the HTML from JavaScript, we can use the "Event Listener"
                as we are going to learn in this example.
            </p>
            <p>You can answer your assignment using "Event Handler" or using "Event Listener".</p>
            <p>The result is: <span id="result"></span></p>
            <!--
                Task:
                when someone clicks this p element with the text "Don't click me":
                we want to call a function that alerts "You clicked this paragraph!!!"

                We can do it by adding "Event Handler" as an HTML attribute => onclick="alertMsg()"

                NOTE: The other way instead of using "Event Handler" is using "Event Listener" => without writing inline JS:
                We can give this p an id to be used with the method getElementById()
            -->
            <p id="do-not">Don't click me</p>
        </section>

        <div>
            <button class="blue" id="blueBtn">Blue Theme</button>
            <button class="red" id="redBtn">Red Theme</button>
            <button class="green" id="greenBtn">Green Theme</button>
            <!--
                OR: instead of using button element, we can use input of type "button"
            -->
            <input type="button" class="bw" id="bwBtn" value="B/W Theme">
        </div>
        <footer class="main">
            Designed by me...
        </footer>
    </div> <!-- end div#wrapper -->

    <!--
        We need to make sure that all the page elements are loaded first before start parsing them
        so we place our JS DOM code after loading the entire page (html elements) :
    -->

    <!-- Internal JavaScript -->
    <script>
        function alertMsg() {
            alert("So, you clicked this paragraph!!!");
        }

        // First Way:
        // Adding "Event Handler" inside our script instead of adding them as an HTML attribute
        // Notice that below we are calling our function "alertMsg()" as an object => alertMsg
        document.getElementById("do-not").onclick = alertMsg;

        // Another way of coding:
        // Optional to create a variable "doNotPara" or just use the full syntax
        /*
        let doNotPara = document.getElementById("do-not");
        console.log(doNotPara); // <p id="do-not">Don't click me</p>
        doNotPara.onclick = alertMsg;
        */

        // Instead of just keep using document.getElementById()
        // Let's try to save them into variables:
        // Select the three buttons: blue, red, and BW:
        let blueBtn = document.getElementById("blueBtn");
        let redBtn = document.getElementById("redBtn");
        let greenBtn = document.getElementById("greenBtn");
        let bwBtn = document.getElementById("bwBtn");

        // Assign the required event listener to each button
        /*
        JavaScript HTML DOM EventListener
        Method: addEventListener()
        addEventListener(argument1, argument2)
        argument1 = the name of the event, examples: "click", "mouseover", "mouseout", ....
        argument2 = our own function that we want to run/trigger or other JS code we want to run

        Notice that argument2 could be:
        - the name of our function without ()
        - it could be the function block itself [Anonymous Function]

        W3Schools: https://www.w3schools.com/js/js_htmldom_eventlistener.asp
        */


        /*
        Create 3 different functions
        - First one for applying the "blue-theme" class named "applyBlueTheme()"
        - Second one for applying the "red-theme" class named "applyRedTheme()"
        - Third one for applying the "bw-theme" class named "applyBWTheme()"
        */
        // This function "blueTheme()" is to be called with the event click [Event Listener]
        function applyBlueTheme() {
            // Testing:
            // alert("blue");
            /*
            When someone clicks the "Blue Theme":
            We want to apply class="blue-theme" to the div#wrapper
            */
            document.getElementById("wrapper").className = "blue-theme";
            // Or you can use this way:
            /*
            let wrapperDiv = document.getElementById("wrapper");
            wrapperDiv.className = "blue-theme";
            */
        }

        function applyRedTheme() {
            // alert("red");
            /*
          When someone clicks the "Red Theme":
          We want to apply class="red-theme" to the div#wrapper
          */
            document.getElementById("wrapper").className = "red-theme";
        }

        function applyGreenTheme() {
            // alert("green");
            /*
          When someone clicks the "Green Theme":
          We want to apply class="green-theme" to the div#wrapper
          */
            document.getElementById("wrapper").className = "green-theme";
        }

        /*
        function applyBWTheme() {
            // alert("bw");
            // we can run this code by calling our function named "redTheme" as we did with blueTheme
            document.getElementById("wrapper").className = "bw-theme";
        }
        */

        /*
        The syntax: HTMLElement.addEventListener()
        Instead of typing long syntax: document.getElementById("blueBtn").addEventListener("click", applyBlueTheme);
        we had already set the JS variable "blueBtn" to have the value of document.getElementById("blueBtn")
        so we can just call our three variables adn attach to them the "AddEventListener" method

        Notice below, the second argument for each line:
        1) applyBlueTheme => is just calling for a function
        2) applyRedTheme => is just calling for a function
        3) applyBWTheme => is just calling for a function

        NOTES:
        - We don't use the "on" prefix for the event; use "click" instead of "onclick"
        - All of these function are being called WITH OUT () as we used to with normal call of function!
        */
        blueBtn.addEventListener("click", applyBlueTheme);
        redBtn.addEventListener("click", applyRedTheme);
        greenBtn.addEventListener("click", applyGreenTheme);

        /*
        The other way is to create/and run our function instantly!
        Now with the bwButton will write and run our function instantly at the same time
        Using a concept in JS called "Anonymous Function" => a function that doesn't have a name, it runs automatically

        Basic Anonymous function use:
        function() {

        }
        */
        // Just write the entire function block inside the event listener
        // An anonymous function is a function that was declared without any named identifier to refer to it.
        // As such, an anonymous function is usually not accessible after its initial creation.

        // This function can accept the event itself as argument ?
        // For learning purpose
        // let's add a parameter named "e" just to represent the Mouse event object (as argument)
        // Please notice that in this function adding "e" is optional! You don't have to do it
        // We just added e to learn about the fact of getting the event properties
        bwBtn.addEventListener("click", function (e) {
            document.getElementById("wrapper").className = "bw-theme";
            // for testing:
            console.log(e); // PointerEvent Object => contains all the information about the event
        });


        /*
        Besides W3School :-)
        you can read more about this topic:
        https://www.tutorialrepublic.com/javascript-tutorial/javascript-event-listeners.php
        */
    </script>
</body>

</html>
